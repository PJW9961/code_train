# Day 7: 3的幂

> **题目链接**: [326.3的幂](https://leetcode.cn/problems/power-of-three/)
> **难度**: 简单  
> **标签**: 递归,数学

## 示例

```
示例 1：
输入：n = 27
输出：true

```

## 约束条件
- `-2^31 <= n <= 2^31 - 1`

## 算法思路

### 核心思想
1. **数学方法**: 利用在32位整数范围内最大的3的幂来判断
2. **整除性质**: 如果n是3的幂，那么最大的3的幂一定能被n整除
3. **边界处理**: 处理非正数的情况

### 详细步骤

#### 第一步：找到最大的3的幂
在32位整数范围内，找到不超过 `2^31 - 1` 的最大3的幂：
- 使用循环计算：`power *= 3`
- 设置边界条件防止溢出：`power < (2^31 - 1) / 3`

#### 第二步：判断整除性
检查最大的3的幂能否被n整除：
- 如果 `power % n == 0` 且 `n > 0`，则n是3的幂
- 否则n不是3的幂

### 位运算详解

#### 防溢出技巧
```
边界条件：power < (2^31 - 1) / 3
等价于：power * 3 < 2^31 - 1
避免直接计算 power * 3 造成溢出
```

#### 计算过程
```
在32位整数范围内的3的幂：
3^0 = 1
3^1 = 3  
3^2 = 9
3^3 = 27
...
3^19 = 1162261467  // 最大的3的幂
3^20 = 3486784401  // 超出32位整数范围
```

## 代码实现

```cpp
#include<iostream>
#include<cmath>
using namespace std;

bool isPowerOfThree(int n) 
{
    int power = 1;
    while(power < (pow(2,31)-1)/3)
    {
        power *= 3;
    }
    
    return n > 0 && power % n == 0;
}
```
